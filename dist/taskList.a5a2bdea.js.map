{"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+CAiBa;AAjBb;AACA,gCAA4C,0CAA0C;AACtF;;AAEA,MAAM,kBAAkB;IACtB,eAAe;IACf,MAAM,MAAM,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,iBAAiB,CAAC;IAC/C,6DAA6D;IAC7D,IAAI,EAAE,CAAC,SAAS,CAAC;QACf,EAAE,cAAc;QAChB,IAAI,cAAc,CAAC;QACnB,CAAA,GAAA,YAAM,AAAD;IACP;IACA,6CAA6C;IAC7C,IAAI,cAAc,CAAC;AACrB;AAEO,MAAM,YAAY;IACrB;IACA,4EAA4E;IAC5E,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,yBAAyB,CAAC;IAChE,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,sBAAsB,CAAC;IAE9D,qCAAqC;IACrC,MAAM,cAAc;QAChB,IAAI;YACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,CAAA,GAAA,uBAAQ,AAAD,EAChC,IAAI,CAAC,UACL,MAAM,CAAC;YAEZ,IAAI,OAAO,MAAM;YAEjB,aAAa;QACjB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B,MAAM,OAAO;QACrD,wDAAwD;QAC5D;IACJ;IAEA,8CAA8C;IAC9C,MAAM,eAAe,CAAC;QAClB,cAAc,iBAAiB,IAAI,yBAAyB;QAE5D,KAAK,MAAM,SAAS,OAAQ;YACxB,0CAA0C;YAC1C,MAAM,MAAM,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,gCAAgC,CAAC;YAE9D,oDAAoD;YACpD,IAAI,oBAAoB,CAAC;gBACrB,YAAY,MAAM,QAAQ;gBAC1B,cAAc,MAAM,UAAU;gBAC9B,oBAAoB,MAAM,gBAAgB;gBAC1C,UAAU,MAAM,MAAM;YAE1B;YAEA,cAAc,WAAW,CAAC;QAC9B;IACJ;IAEA,kDAAkD;IAClD;AACJ","sources":["src/modules/dashboard/taskList.ts"],"sourcesContent":["import { WFComponent } from \"@xatom/core\";\nimport { logout, userAuth } from \"../auth\"; // Import for potential future auth checks\nimport supabase from \"../supbase\";\n\nconst renderLogoutBtn = () => {\n  //logout button\n  const btn = new WFComponent(`[xa-type=cta-btn]`);\n  //on click setting up button text and calling logout function\n  btn.on(\"click\", (e) => {\n    e.preventDefault();\n    btn.setTextContent(\"Please wait...\");\n    logout();\n  });\n  //changing create account text to logout text\n  btn.setTextContent(\"Logout\");\n};\n\nexport const orderList = () => {\n    renderLogoutBtn();\n    // Get references to elements using xa-types (these must exist in your HTML)\n    const tableHeaders = new WFComponent(`[xa-type=\"table-headers\"]`);\n    const listContainer = new WFComponent(`[xa-type=\"order-list\"]`); \n\n    // Fetch the order data from Supabase\n    const fetchOrders = async () => {\n        try {\n            const { data, error } = await supabase\n                .from(\"orders\")\n                .select(\"*\"); \n            \n            if (error) throw error; \n\n            renderOrders(data);\n        } catch (error) {\n            console.error(\"Error fetching orders:\", error.message);\n            // Consider displaying an error message to the user here\n        }\n    };\n\n    // Function to render order data into the HTML\n    const renderOrders = (orders) => {\n        listContainer.removeAllChildren(); // Clear previous content\n\n        for (const order of orders) {\n            // Create a new row element for each order\n            const row = new WFComponent(`<div xa-type=\"order-item\"></div>`);\n\n            // Update text content within the row using xa-types\n            row.updateTextViaAttrVar({\n                \"order-id\": order.order_id,\n                \"order-date\": order.order_date,\n                \"valuation-number\": order.valuation_number,\n                \"amount\": order.amount,\n                // ... (add other fields as needed)\n            });\n\n            listContainer.appendChild(row);\n        }\n    };\n\n    // Initial fetch of order data when the page loads\n    fetchOrders();\n};\n"],"names":[],"version":3,"file":"taskList.a5a2bdea.js.map","sourceRoot":"../"}